---
title: "CRM FireBase Cloud Message Web Services"
description: ""
lead: ""
date: 2020-11-16T13:59:39+01:00
lastmod: 2020-11-16T13:59:39+01:00
draft: false
images: []
menu:
  docs:
    parent: "CRM"
weight: 203
toc: false
---

{{% method-block bgcolor="warning" type="bg-orange" callmethod="PUT" %}}
  /crm/v1/firebase/ticket
{{% /method-block %}}

This service is used to create the firebaseApp token of a user.

It requires correlationId, operation, destination, source and srDate as input parameters. If successful the firebase token generated by FCM will be updated in the system for a particular user. If failed the appropriate error code will be returned.

<section>

### *Request Parameters*
| NAME        | TYPE           | DESCRIPTION  |
| ------------- |:-------------:| ----- |
| **correlationId** (mandatory)    | ``string`` (header)      |   Provide the correlationId as the value. For example - 123e4567-e89b-12d3-a456-426614174000 |
| **Source** (mandatory) | ``string`` (header)      |    Provide the source as the value. For example - Selfcare |
| **srdate** (mandatory) | ``string`` (header)      |    Provide the date as the value. For example - 11-09-2021 |
| **Operation** (mandatory) | ``string`` (header)      |    Provide the operation as the value. For example - udpateFirebaseToken |
| **destination** (mandatory) | ``string`` (header)      |    Provide the destination as the value. |

### *Request Body Parameters*
| NAME        | TYPE           | DESCRIPTION  |
| ------------- |:-------------:| ----- |
| **fireBaseMessagingToken** (mandatory) | ``string`` (body)      |    Provide the messaging token as the value. |
| **deviceId** (mandatory) | ``string`` (body)      |    Provide the device ID as the value. For example - device11 |

{{< tabs "uniqueid1" >}}
{{< tab "Request Header" >}}
{{< highlight java "linenos=table" >}}
correlationId:123e4567-e89b-12d3-a456-426614174000
srDate:11-09-2021
source:Selfcare
destination:CRM
operation:udpateFirebaseToken
{{< / highlight >}}
{{< /tab >}}
{{< tab "Request Body" >}}
{{< highlight java "linenos=table" >}}
{
    "fireBaseMessagingToken": "dFFVnhmwNQA:APA91bFeu2bGtb8odHajWz7AfEcpMUVRQrQ0yVoWACeaJ4Vp8MhjEkEAePa_hVYn_i3QCz19boaeaHhmzBsBVzb5CYlpO05kVa6SCbixsKRHe87phBSKw6OkceO6ztrfmARwFxmysCy9",
    "deviceId": "device11"
}
{{< / highlight >}}
{{< /tab >}}
{{< tab "Response" >}}
{{< highlight java "linenos=table" >}}
{
  "response": {
    "success": "true",
    "result": {
      "message": "App data updated successfully."
    }
  }
}
{{< / highlight >}}
{{< /tab >}}
{{< tab "Client Error" >}}
{{< highlight java "linenos=table" >}}
{
  "response": {
    "result": {
      "arguments": {
        "statusCode": "400",
        "errorCode": "400 BAD_REQUEST",
        "errorMessage": "Header 'source' not present in the request."
      }
    },
    "success": "false"
  }
}
{{< / highlight >}}
{{< /tab >}}
{{< tab "Server Error" >}}
{{< highlight java "linenos=table" >}}
{
  "response": {
    "success": "false",
    "result": {
      "arguments": {
        "statusCode": "500",
        "errorCode": "Downstream error",
        "errorMessage": "- Not Able to connect with CRM."
      }
    }
  }
}
{{< / highlight >}}
{{< /tab >}}
{{< /tabs >}}
</section>

{{% method-block bgcolor="primary" type="bg-green" callmethod="POST" %}}
  /crm/v1/firebase
{{% /method-block %}}

This service is used to save the firebaseApp token of a user.

It requires correlationId, operation, destination, source and srDate as input parameters. If successful the firebase token generated by FCM will be stored in the system. If failed the appropriate error code will be returned.

<section>

### *Request Parameters*
| NAME        | TYPE           | DESCRIPTION  |
| ------------- |:-------------:| ----- |
| **correlationId** (mandatory)    | ``string`` (header)      |   Provide the correlationId as the value. For example - 123e4567-e89b-12d3-a456-426614174000 |
| **Source** (mandatory) | ``string`` (header)      |    Provide the source as the value. For example - Selfcare |
| **srdate** (mandatory) | ``string`` (header)      |    Provide the date as the value. For example - 11-09-2021 |
| **Operation** (mandatory) | ``string`` (header)      |    Provide the operation as the value. For example - csmartAppInit |
| **destination** (mandatory) | ``string`` (header)      |    Provide the destination as the value. |

### *Request Body Parameters*
| NAME        | TYPE           | DESCRIPTION  |
| ------------- |:-------------:| ----- |
| **model** (mandatory)    | ``string`` (body)      |   Provide the model as the value. For example - iPhone10 |
| **manufacturer** (mandatory) | ``string`` (body)      |    Provide the manufacturer name as the value. For example - Apple |
| **osName** (mandatory) | ``string`` (body)      |    Provide the OS name as the value. For example - iphoneOS |
| **osVersion** (mandatory) | ``string`` (body)      |    Provide the OS version as the value. For example - 7.1 |
| **osBuild** (mandatory) | ``string`` (body)      |    Provide the OS version as the value. For example - 13E28 |
| **carrier** (mandatory) | ``string`` (body)      |    Provide the carrier as the value. For example - ATT |
| **appVersion** (mandatory) | ``string`` (body)      |    Provide the app version as the value. For example - 1.0.0 |
| **fireBaseMessagingToken** (mandatory) | ``string`` (body)      |    Provide the messaging token as the value.  |
| **deviceId** (mandatory) | ``string`` (body)      |    Provide the device ID as the value. For example - device11 |
{{< tabs "uniqueid3" >}}
{{< tab "Request Header" >}}
{{< highlight java "linenos=table" >}}
correlationId:123e4567-e89b-12d3-a456-426614174000
srDate:11-09-2021
source:Selfcare
destination:CRM
operation:csmartAppInit
{{< / highlight >}}
{{< /tab >}}
{{< tab "Request Body" >}}
{{< highlight java "linenos=table" >}}
{
"model": "iPhone10,1",
"manufacturer": "Apple",
"osName": "iPhone OS",
"osVersion": "7.1",
"osBuild": "13E28",
"carrier": "ATT",
"appVersion": "1.0.0",
"fireBaseMessagingToken": "dFFVnhmwNQA:APA91bFeu2bGtb8odHajWz7AfEcpMUVRQrQ0yVoWACeaJ4Vp8MhjEkEAePa_hVYn_i3QCz19boaeaHhmzBsBVzb5CYlpO05kVa6SCbixsKRHe87phBSKw6OkceO6ztrfmARwFxmysCy9",
"deviceId": "device11"
}
{{< / highlight >}}
{{< /tab >}}
{{< tab "Response" >}}
{{< highlight java "linenos=table" >}}
{
  "response": {
    "success": "true",
    "result": {
      "message": "App data updated successfully."
    }
  }
}
{{< / highlight >}}
{{< /tab >}}
{{< tab "Client Error" >}}
{{< highlight java "linenos=table" >}}
{
  "response": {
    "result": {
      "arguments": {
        "statusCode": "400",
        "errorCode": "400 BAD_REQUEST",
        "errorMessage": "Header 'source' not present in the request."
      }
    },
    "success": "false"
  }
}
{{< / highlight >}}
{{< /tab >}}
{{< tab "Server Error" >}}
{{< highlight java "linenos=table" >}}
{
  "response": {
    "success": "false",
    "result": {
      "arguments": {
        "statusCode": "500",
        "errorCode": "Downstream error",
        "errorMessage": "- Not Able to connect with CRM."
      }
    }
  }
}
{{< / highlight >}}
{{< /tab >}}
{{< /tabs >}}

</section>
